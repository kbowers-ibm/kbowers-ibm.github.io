"use strict";
self["webpackHotUpdate_kie_tools_bpmn_editor"]("misc-empty-Empty-stories",{

/***/ "./src/diagram/nodes/morphing/useGatewayNodeMorphingActions.tsx":
/*!**********************************************************************!*\
  !*** ./src/diagram/nodes/morphing/useGatewayNodeMorphingActions.tsx ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useGatewayNodeMorphingActions: () => (/* binding */ useGatewayNodeMorphingActions)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "../../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js");
/* harmony import */ var _mutations_elementVisitor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../mutations/_elementVisitor */ "./src/mutations/_elementVisitor.ts");
/* harmony import */ var _mutations_addOrGetProcessAndDiagramElements__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../mutations/addOrGetProcessAndDiagramElements */ "./src/mutations/addOrGetProcessAndDiagramElements.ts");
/* harmony import */ var _store_StoreContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../store/StoreContext */ "./src/store/StoreContext.ts");
/* harmony import */ var _NodeIcons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../NodeIcons */ "./src/diagram/nodes/NodeIcons.tsx");






function useGatewayNodeMorphingActions(gateway) {
  const bpmnEditorStoreApi = (0,_store_StoreContext__WEBPACK_IMPORTED_MODULE_2__.useBpmnEditorStoreApi)();
  const morphGateway = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(gatewayElement => {
    bpmnEditorStoreApi.setState(s => {
      const {
        process
      } = (0,_mutations_addOrGetProcessAndDiagramElements__WEBPACK_IMPORTED_MODULE_4__.addOrGetProcessAndDiagramElements)({
        definitions: s.bpmn.model.definitions
      });
      (0,_mutations_elementVisitor__WEBPACK_IMPORTED_MODULE_5__.visitFlowElementsAndArtifacts)(process, _ref => {
        let {
          array,
          index,
          owner,
          element
        } = _ref;
        if (element["@_id"] === gateway["@_id"] && element.__$$element === gateway.__$$element) {
          array[index] = {
            "@_id": element["@_id"],
            "@_name": element["@_name"],
            __$$element: gatewayElement
          };
          return false;
        }
      });
    });
  }, [bpmnEditorStoreApi, gateway]);
  const morphingActions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    return [{
      icon: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_NodeIcons__WEBPACK_IMPORTED_MODULE_3__.GatewayIcon, {
        variant: "parallelGateway",
        isMorphingPanel: true
      }),
      key: "1",
      title: "Parallel",
      id: "parallelGateway",
      action: () => morphGateway("parallelGateway")
    }, {
      icon: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_NodeIcons__WEBPACK_IMPORTED_MODULE_3__.GatewayIcon, {
        variant: "exclusiveGateway",
        isMorphingPanel: true
      }),
      key: "2",
      title: "Exclusive",
      id: "exclusiveGateway",
      action: () => morphGateway("exclusiveGateway")
    }, {
      icon: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_NodeIcons__WEBPACK_IMPORTED_MODULE_3__.GatewayIcon, {
        variant: "inclusiveGateway",
        isMorphingPanel: true
      }),
      key: "3",
      title: "Inclusive",
      id: "inclusiveGateway",
      action: () => morphGateway("inclusiveGateway")
    }, {
      icon: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_NodeIcons__WEBPACK_IMPORTED_MODULE_3__.GatewayIcon, {
        variant: "eventBasedGateway"
      }),
      key: "4",
      title: "Event",
      id: "eventBasedGateway",
      action: () => morphGateway("eventBasedGateway")
    }, {
      icon: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_NodeIcons__WEBPACK_IMPORTED_MODULE_3__.GatewayIcon, {
        variant: "complexGateway"
      }),
      key: "5",
      title: "Complex",
      id: "complexGateway",
      action: () => morphGateway("complexGateway")
    }];
  }, [morphGateway]);
  return morphingActions;
}
try {
    // @ts-ignore
    useGatewayNodeMorphingActions.displayName = "useGatewayNodeMorphingActions";
    // @ts-ignore
    useGatewayNodeMorphingActions.__docgenInfo = { "description": "", "displayName": "useGatewayNodeMorphingActions", "props": { "__$$element": { "defaultValue": null, "description": "", "name": "__$$element", "required": true, "type": { "name": "enum", "value": [{ "value": "\"complexGateway\"" }, { "value": "\"eventBasedGateway\"" }, { "value": "\"exclusiveGateway\"" }, { "value": "\"inclusiveGateway\"" }, { "value": "\"parallelGateway\"" }] } }, "__": { "defaultValue": null, "description": "", "name": "__", "required": false, "type": { "name": "undefined" } }, "@_id": { "defaultValue": null, "description": "", "name": "@_id", "required": false, "type": { "name": "string" } }, "documentation": { "defaultValue": null, "description": "", "name": "documentation", "required": false, "type": { "name": "({ __?: undefined; \"@_id\"?: string; \"@_textFormat\"?: string; __$$text?: string | undefined; } & { \"@_id\": string; })[] | undefined" } }, "extensionElements": { "defaultValue": null, "description": "", "name": "extensionElements", "required": false, "type": { "name": "({ __?: undefined; } & BPMN20__tComplexGateway__extensionElements) | ({ __?: undefined; } & BPMN20__tEventBasedGateway__extensionElements) | ({ ...; } & BPMN20__tExclusiveGateway__extensionElements) | ({ ...; } & BPMN20__tInclusiveGateway__extensionElements) | ({ ...; } & BPMN20__tParallelGateway__extensionElements)..." } }, "@_name": { "defaultValue": null, "description": "", "name": "@_name", "required": false, "type": { "name": "string" } }, "auditing": { "defaultValue": null, "description": "", "name": "auditing", "required": false, "type": { "name": "({ __?: undefined; \"@_id\"?: string; documentation?: ({ __?: undefined; \"@_id\"?: string; \"@_textFormat\"?: string | undefined; __$$text?: string | undefined; } & { \"@_id\": string; })[] | undefined; extensionElements?: ({ ...; } & BPMN20__tAuditing__extensionElements) | undefined; } & { ...; }) ..." } }, "monitoring": { "defaultValue": null, "description": "", "name": "monitoring", "required": false, "type": { "name": "({ __?: undefined; \"@_id\"?: string; documentation?: ({ __?: undefined; \"@_id\"?: string; \"@_textFormat\"?: string | undefined; __$$text?: string | undefined; } & { \"@_id\": string; })[] | undefined; extensionElements?: ({ ...; } & BPMN20__tMonitoring__extensionElements) | undefined; } & { ...; }..." } }, "categoryValueRef": { "defaultValue": null, "description": "", "name": "categoryValueRef", "required": false, "type": { "name": "({ __$$text: string; } & { __$$text: string; })[] | ({ __$$text: string; } & { __$$text: string; })[] | ({ __$$text: string; } & { __$$text: string; })[] | ({ __$$text: string; } & { __$$text: string; })[] | ({ ...; } & { ...; })[]" } }, "incoming": { "defaultValue": null, "description": "", "name": "incoming", "required": false, "type": { "name": "({ __$$text: string; } & { __$$text: string; })[] | ({ __$$text: string; } & { __$$text: string; })[] | ({ __$$text: string; } & { __$$text: string; })[] | ({ __$$text: string; } & { __$$text: string; })[] | ({ ...; } & { ...; })[]" } }, "outgoing": { "defaultValue": null, "description": "", "name": "outgoing", "required": false, "type": { "name": "({ __$$text: string; } & { __$$text: string; })[] | ({ __$$text: string; } & { __$$text: string; })[] | ({ __$$text: string; } & { __$$text: string; })[] | ({ __$$text: string; } & { __$$text: string; })[] | ({ ...; } & { ...; })[]" } }, "@_gatewayDirection": { "defaultValue": null, "description": "", "name": "@_gatewayDirection", "required": false, "type": { "name": "enum", "value": [{ "value": "\"Unspecified\"" }, { "value": "\"Converging\"" }, { "value": "\"Diverging\"" }, { "value": "\"Mixed\"" }] } }, "@_default": { "defaultValue": null, "description": "", "name": "@_default", "required": false, "type": { "name": "string" } }, "activationCondition": { "defaultValue": null, "description": "", "name": "activationCondition", "required": false, "type": { "name": "({ __?: undefined; \"@_id\"?: string; documentation?: ({ __?: undefined; \"@_id\"?: string; \"@_textFormat\"?: string | undefined; __$$text?: string | undefined; } & { \"@_id\": string; })[] | undefined; extensionElements?: ({ ...; } & BPMN20__tExpression__extensionElements) | undefined; __$$text?: s..." } }, "@_instantiate": { "defaultValue": null, "description": "", "name": "@_instantiate", "required": false, "type": { "name": "boolean" } }, "@_eventGatewayType": { "defaultValue": null, "description": "", "name": "@_eventGatewayType", "required": false, "type": { "name": "enum", "value": [{ "value": "\"Exclusive\"" }, { "value": "\"Parallel\"" }] } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/diagram/nodes/morphing/useGatewayNodeMorphingActions.tsx#useGatewayNodeMorphingActions"] = { docgenInfo: useGatewayNodeMorphingActions.__docgenInfo, name: "useGatewayNodeMorphingActions", path: "src/diagram/nodes/morphing/useGatewayNodeMorphingActions.tsx#useGatewayNodeMorphingActions" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ })

});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWlzYy1lbXB0eS1FbXB0eS1zdG9yaWVzLjVmNWVjOTMyMmRmM2RjNzNhZjViLmhvdC11cGRhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1QjZDO0FBQ3NDO0FBQ3NCO0FBRXJDO0FBQ3pCO0FBU3JDLFNBQVVNLDZCQUE2QkEsQ0FBQ0MsT0FBZ0I7RUFDNUQsTUFBTUMsa0JBQWtCLEdBQUdKLDBFQUFxQixFQUFFO0VBRWxELE1BQU1LLFlBQVksR0FBR1Qsa0RBQVcsQ0FDN0JVLGNBQXNDLElBQUk7SUFNekNGLGtCQUFrQixDQUFDRyxRQUFRLENBQUVDLENBQUMsSUFBSTtNQUNoQyxNQUFNO1FBQUVDO01BQU8sQ0FBRSxHQUFHViwrR0FBaUMsQ0FBQztRQUNwRFcsV0FBVyxFQUFFRixDQUFDLENBQUNHLElBQUksQ0FBQ0MsS0FBSyxDQUFDRjtPQUMzQixDQUFDO01BQ0ZaLHdGQUE2QixDQUFDVyxPQUFPLEVBQUVJLElBQUEsSUFBcUM7UUFBQSxJQUFwQztVQUFFQyxLQUFLO1VBQUVDLEtBQUs7VUFBRUMsS0FBSztVQUFFQztRQUFPLENBQUUsR0FBQUosSUFBQTtRQUN0RSxJQUFJSSxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUtkLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSWMsT0FBTyxDQUFDQyxXQUFXLEtBQUtmLE9BQU8sQ0FBQ2UsV0FBVyxFQUFFO1VBQ3RGSixLQUFLLENBQUNDLEtBQUssQ0FBQyxHQUFHO1lBQ2IsTUFBTSxFQUFFRSxPQUFPLENBQUMsTUFBTSxDQUFDO1lBQ3ZCLFFBQVEsRUFBRUEsT0FBTyxDQUFDLFFBQVEsQ0FBQztZQUMzQkMsV0FBVyxFQUFFWjtXQUNkO1VBQ0QsT0FBTyxLQUFLO1FBQ2Q7TUFDRixDQUFDLENBQUM7SUFDSixDQUFDLENBQUM7RUFDSixDQUFDLEVBQ0QsQ0FBQ0Ysa0JBQWtCLEVBQUVELE9BQU8sQ0FBQyxDQUM5QjtFQUVELE1BQU1nQixlQUFlLEdBQUd0Qiw4Q0FBTyxDQUFDLE1BQUs7SUFDbkMsT0FBTyxDQUNMO01BQ0V1QixJQUFJLEVBQUVDLHNEQUFBLENBQUNwQixtREFBVztRQUFDcUIsT0FBTyxFQUFFLGlCQUFpQjtRQUFFQyxlQUFlLEVBQUU7TUFBSSxFQUFHO01BQ3ZFQyxHQUFHLEVBQUUsR0FBRztNQUNSQyxLQUFLLEVBQUUsVUFBVTtNQUNqQkMsRUFBRSxFQUFFLGlCQUFpQjtNQUNyQkMsTUFBTSxFQUFFQSxDQUFBLEtBQU10QixZQUFZLENBQUMsaUJBQWlCO0tBQ3BDLEVBQ1Y7TUFDRWUsSUFBSSxFQUFFQyxzREFBQSxDQUFDcEIsbURBQVc7UUFBQ3FCLE9BQU8sRUFBRSxrQkFBa0I7UUFBRUMsZUFBZSxFQUFFO01BQUksRUFBSTtNQUN6RUMsR0FBRyxFQUFFLEdBQUc7TUFDUkMsS0FBSyxFQUFFLFdBQVc7TUFDbEJDLEVBQUUsRUFBRSxrQkFBa0I7TUFDdEJDLE1BQU0sRUFBRUEsQ0FBQSxLQUFNdEIsWUFBWSxDQUFDLGtCQUFrQjtLQUNyQyxFQUNWO01BQ0VlLElBQUksRUFBRUMsc0RBQUEsQ0FBQ3BCLG1EQUFXO1FBQUNxQixPQUFPLEVBQUUsa0JBQWtCO1FBQUVDLGVBQWUsRUFBRTtNQUFJLEVBQUk7TUFDekVDLEdBQUcsRUFBRSxHQUFHO01BQ1JDLEtBQUssRUFBRSxXQUFXO01BQ2xCQyxFQUFFLEVBQUUsa0JBQWtCO01BQ3RCQyxNQUFNLEVBQUVBLENBQUEsS0FBTXRCLFlBQVksQ0FBQyxrQkFBa0I7S0FDckMsRUFDVjtNQUNFZSxJQUFJLEVBQUVDLHNEQUFBLENBQUNwQixtREFBVztRQUFDcUIsT0FBTyxFQUFFO01BQW1CLEVBQUk7TUFDbkRFLEdBQUcsRUFBRSxHQUFHO01BQ1JDLEtBQUssRUFBRSxPQUFPO01BQ2RDLEVBQUUsRUFBRSxtQkFBbUI7TUFDdkJDLE1BQU0sRUFBRUEsQ0FBQSxLQUFNdEIsWUFBWSxDQUFDLG1CQUFtQjtLQUN0QyxFQUNWO01BQ0VlLElBQUksRUFBRUMsc0RBQUEsQ0FBQ3BCLG1EQUFXO1FBQUNxQixPQUFPLEVBQUU7TUFBZ0IsRUFBSTtNQUNoREUsR0FBRyxFQUFFLEdBQUc7TUFDUkMsS0FBSyxFQUFFLFNBQVM7TUFDaEJDLEVBQUUsRUFBRSxnQkFBZ0I7TUFDcEJDLE1BQU0sRUFBRUEsQ0FBQSxLQUFNdEIsWUFBWSxDQUFDLGdCQUFnQjtLQUNuQyxDQUNYO0VBQ0gsQ0FBQyxFQUFFLENBQUNBLFlBQVksQ0FBQyxDQUFDO0VBRWxCLE9BQU9jLGVBQWU7QUFDeEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Aa2llLXRvb2xzL2JwbW4tZWRpdG9yLy4vc3JjL2RpYWdyYW0vbm9kZXMvbW9ycGhpbmcvdXNlR2F0ZXdheU5vZGVNb3JwaGluZ0FjdGlvbnMudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQlBNTjIwX190UHJvY2VzcyB9IGZyb20gXCJAa2llLXRvb2xzL2JwbW4tbWFyc2hhbGxlci9zcmMvc2NoZW1hcy9icG1uLTJfMC90cy1nZW4vdHlwZXNcIjtcbmltcG9ydCB7IEVsZW1lbnRGaWx0ZXIgfSBmcm9tIFwiQGtpZS10b29scy94bWwtcGFyc2VyLXRzL2Rpc3QvZWxlbWVudEZpbHRlclwiO1xuaW1wb3J0IHsgVW5wYWNrZWQgfSBmcm9tIFwiQGtpZS10b29scy94eWZsb3ctcmVhY3Qta2llLWRpYWdyYW0vZGlzdC90c0V4dC90c0V4dFwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHZpc2l0Rmxvd0VsZW1lbnRzQW5kQXJ0aWZhY3RzIH0gZnJvbSBcIi4uLy4uLy4uL211dGF0aW9ucy9fZWxlbWVudFZpc2l0b3JcIjtcbmltcG9ydCB7IGFkZE9yR2V0UHJvY2Vzc0FuZERpYWdyYW1FbGVtZW50cyB9IGZyb20gXCIuLi8uLi8uLi9tdXRhdGlvbnMvYWRkT3JHZXRQcm9jZXNzQW5kRGlhZ3JhbUVsZW1lbnRzXCI7XG5pbXBvcnQgeyBOb3JtYWxpemVkIH0gZnJvbSBcIi4uLy4uLy4uL25vcm1hbGl6YXRpb24vbm9ybWFsaXplXCI7XG5pbXBvcnQgeyB1c2VCcG1uRWRpdG9yU3RvcmVBcGkgfSBmcm9tIFwiLi4vLi4vLi4vc3RvcmUvU3RvcmVDb250ZXh0XCI7XG5pbXBvcnQgeyBHYXRld2F5SWNvbiB9IGZyb20gXCIuLi9Ob2RlSWNvbnNcIjtcblxuZXhwb3J0IHR5cGUgR2F0ZXdheSA9IE5vcm1hbGl6ZWQ8XG4gIEVsZW1lbnRGaWx0ZXI8XG4gICAgVW5wYWNrZWQ8Tm9uTnVsbGFibGU8QlBNTjIwX190UHJvY2Vzc1tcImZsb3dFbGVtZW50XCJdPj4sXG4gICAgXCJleGNsdXNpdmVHYXRld2F5XCIgfCBcImluY2x1c2l2ZUdhdGV3YXlcIiB8IFwicGFyYWxsZWxHYXRld2F5XCIgfCBcImV2ZW50QmFzZWRHYXRld2F5XCIgfCBcImNvbXBsZXhHYXRld2F5XCJcbiAgPlxuPjtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUdhdGV3YXlOb2RlTW9ycGhpbmdBY3Rpb25zKGdhdGV3YXk6IEdhdGV3YXkpIHtcbiAgY29uc3QgYnBtbkVkaXRvclN0b3JlQXBpID0gdXNlQnBtbkVkaXRvclN0b3JlQXBpKCk7XG5cbiAgY29uc3QgbW9ycGhHYXRld2F5ID0gdXNlQ2FsbGJhY2soXG4gICAgKGdhdGV3YXlFbGVtZW50OiBHYXRld2F5W1wiX18kJGVsZW1lbnRcIl0pID0+IHtcbiAgICAgIC8vIDEgLSBQYXJhbGxlbFxuICAgICAgLy8gMiAtIEV4Y2x1c2l2ZVxuICAgICAgLy8gMyAtIEluY2x1c2l2ZVxuICAgICAgLy8gNCAtIEV2ZW50XG4gICAgICAvLyA1IC0gQ29tcGxleFxuICAgICAgYnBtbkVkaXRvclN0b3JlQXBpLnNldFN0YXRlKChzKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgcHJvY2VzcyB9ID0gYWRkT3JHZXRQcm9jZXNzQW5kRGlhZ3JhbUVsZW1lbnRzKHtcbiAgICAgICAgICBkZWZpbml0aW9uczogcy5icG1uLm1vZGVsLmRlZmluaXRpb25zLFxuICAgICAgICB9KTtcbiAgICAgICAgdmlzaXRGbG93RWxlbWVudHNBbmRBcnRpZmFjdHMocHJvY2VzcywgKHsgYXJyYXksIGluZGV4LCBvd25lciwgZWxlbWVudCB9KSA9PiB7XG4gICAgICAgICAgaWYgKGVsZW1lbnRbXCJAX2lkXCJdID09PSBnYXRld2F5W1wiQF9pZFwiXSAmJiBlbGVtZW50Ll9fJCRlbGVtZW50ID09PSBnYXRld2F5Ll9fJCRlbGVtZW50KSB7XG4gICAgICAgICAgICBhcnJheVtpbmRleF0gPSB7XG4gICAgICAgICAgICAgIFwiQF9pZFwiOiBlbGVtZW50W1wiQF9pZFwiXSwgLy8ga2VlcHMgb2xkIElEXG4gICAgICAgICAgICAgIFwiQF9uYW1lXCI6IGVsZW1lbnRbXCJAX25hbWVcIl0sIC8vIGtlZXBzIG9sZCBOYW1lXG4gICAgICAgICAgICAgIF9fJCRlbGVtZW50OiBnYXRld2F5RWxlbWVudCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIFdpbGwgc3RvcCB2aXNpdGluZy5cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbYnBtbkVkaXRvclN0b3JlQXBpLCBnYXRld2F5XVxuICApO1xuXG4gIGNvbnN0IG1vcnBoaW5nQWN0aW9ucyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIGljb246IDxHYXRld2F5SWNvbiB2YXJpYW50PXtcInBhcmFsbGVsR2F0ZXdheVwifSBpc01vcnBoaW5nUGFuZWw9e3RydWV9Lz4sXG4gICAgICAgIGtleTogXCIxXCIsXG4gICAgICAgIHRpdGxlOiBcIlBhcmFsbGVsXCIsXG4gICAgICAgIGlkOiBcInBhcmFsbGVsR2F0ZXdheVwiLFxuICAgICAgICBhY3Rpb246ICgpID0+IG1vcnBoR2F0ZXdheShcInBhcmFsbGVsR2F0ZXdheVwiKSxcbiAgICAgIH0gYXMgY29uc3QsXG4gICAgICB7XG4gICAgICAgIGljb246IDxHYXRld2F5SWNvbiB2YXJpYW50PXtcImV4Y2x1c2l2ZUdhdGV3YXlcIn0gaXNNb3JwaGluZ1BhbmVsPXt0cnVlfSAvPixcbiAgICAgICAga2V5OiBcIjJcIixcbiAgICAgICAgdGl0bGU6IFwiRXhjbHVzaXZlXCIsXG4gICAgICAgIGlkOiBcImV4Y2x1c2l2ZUdhdGV3YXlcIixcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtb3JwaEdhdGV3YXkoXCJleGNsdXNpdmVHYXRld2F5XCIpLFxuICAgICAgfSBhcyBjb25zdCxcbiAgICAgIHtcbiAgICAgICAgaWNvbjogPEdhdGV3YXlJY29uIHZhcmlhbnQ9e1wiaW5jbHVzaXZlR2F0ZXdheVwifSBpc01vcnBoaW5nUGFuZWw9e3RydWV9IC8+LFxuICAgICAgICBrZXk6IFwiM1wiLFxuICAgICAgICB0aXRsZTogXCJJbmNsdXNpdmVcIixcbiAgICAgICAgaWQ6IFwiaW5jbHVzaXZlR2F0ZXdheVwiLFxuICAgICAgICBhY3Rpb246ICgpID0+IG1vcnBoR2F0ZXdheShcImluY2x1c2l2ZUdhdGV3YXlcIiksXG4gICAgICB9IGFzIGNvbnN0LFxuICAgICAge1xuICAgICAgICBpY29uOiA8R2F0ZXdheUljb24gdmFyaWFudD17XCJldmVudEJhc2VkR2F0ZXdheVwifSAvPixcbiAgICAgICAga2V5OiBcIjRcIixcbiAgICAgICAgdGl0bGU6IFwiRXZlbnRcIixcbiAgICAgICAgaWQ6IFwiZXZlbnRCYXNlZEdhdGV3YXlcIixcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtb3JwaEdhdGV3YXkoXCJldmVudEJhc2VkR2F0ZXdheVwiKSxcbiAgICAgIH0gYXMgY29uc3QsXG4gICAgICB7XG4gICAgICAgIGljb246IDxHYXRld2F5SWNvbiB2YXJpYW50PXtcImNvbXBsZXhHYXRld2F5XCJ9IC8+LFxuICAgICAgICBrZXk6IFwiNVwiLFxuICAgICAgICB0aXRsZTogXCJDb21wbGV4XCIsXG4gICAgICAgIGlkOiBcImNvbXBsZXhHYXRld2F5XCIsXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbW9ycGhHYXRld2F5KFwiY29tcGxleEdhdGV3YXlcIiksXG4gICAgICB9IGFzIGNvbnN0LFxuICAgIF07XG4gIH0sIFttb3JwaEdhdGV3YXldKTtcblxuICByZXR1cm4gbW9ycGhpbmdBY3Rpb25zO1xufVxuIl0sIm5hbWVzIjpbInVzZUNhbGxiYWNrIiwidXNlTWVtbyIsInZpc2l0Rmxvd0VsZW1lbnRzQW5kQXJ0aWZhY3RzIiwiYWRkT3JHZXRQcm9jZXNzQW5kRGlhZ3JhbUVsZW1lbnRzIiwidXNlQnBtbkVkaXRvclN0b3JlQXBpIiwiR2F0ZXdheUljb24iLCJ1c2VHYXRld2F5Tm9kZU1vcnBoaW5nQWN0aW9ucyIsImdhdGV3YXkiLCJicG1uRWRpdG9yU3RvcmVBcGkiLCJtb3JwaEdhdGV3YXkiLCJnYXRld2F5RWxlbWVudCIsInNldFN0YXRlIiwicyIsInByb2Nlc3MiLCJkZWZpbml0aW9ucyIsImJwbW4iLCJtb2RlbCIsIl9yZWYiLCJhcnJheSIsImluZGV4Iiwib3duZXIiLCJlbGVtZW50IiwiX18kJGVsZW1lbnQiLCJtb3JwaGluZ0FjdGlvbnMiLCJpY29uIiwiX2pzeCIsInZhcmlhbnQiLCJpc01vcnBoaW5nUGFuZWwiLCJrZXkiLCJ0aXRsZSIsImlkIiwiYWN0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==